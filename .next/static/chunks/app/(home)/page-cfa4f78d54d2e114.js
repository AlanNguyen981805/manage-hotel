(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{9882:(e,t,l)=>{Promise.resolve().then(l.bind(l,1400))},1400:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>W});var i=l(5155),a=l(2651);let n=l(2818).env.NEXT_PUBLIC_API_URL||"http://139.84.135.204:1337/api",o={ROUTES:"/routes"},s=a.A.create({baseURL:n,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{var t;let l=(null===(t=localStorage)||void 0===t?void 0:t.getItem("token"))||"e80283f9f239cbd6e7907033a49d31231153266c15151c2002f2dc8d365bcf163bd6ae9339ff53c40e465fd8fc8970a11ebf39accb620878ab907000e41e5ddd561fb3da1d2ec5e58d9164fcb69faf00b545ee0422b37313df53b2575fe15467a79c4434d59de750472b6ef994ba5c5452b67012c934814d7539cdb42461b86c";return l&&(e.headers.Authorization="Bearer ".concat(l)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t,l;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(null===(l=localStorage)||void 0===l||l.removeItem("token"),window.location.href="/login"),Promise.reject(e)});var r=l(9827);let d=(0,r.v)(e=>({dialogStatus:!1,setOpenDialog:t=>e(()=>({dialogStatus:t}))}));var c=l(3513);let u=()=>{var e,t;let{setResultSearchBooking:l,setNumberOfPeople:a,setNumberOfdays:n,isOpenHistory:o}=(0,c.A)(),{setOpenDialog:s}=d(),r=null!==(t=null===(e=localStorage)||void 0===e?void 0:e.getItem("bookingHistory"))&&void 0!==t?t:"",u=r?JSON.parse(r):[],A=e=>{a(e.numberOfPeople),l(null==e?void 0:e.days),n(e.numberOfDays),s(!0)};return(0,i.jsx)("div",{className:"flex flex-col w-full px-44 mb-1 lg:flex-row",children:(0,i.jsx)("div",{className:"flex-1 bg-white h-auto ".concat(o?"":"hidden"),children:(0,i.jsx)("div",{className:"flex flex-col gap-1 p-2",children:u.map(e=>{var t,l;let a=new Date(null!==(t=e.dateCheckIn)&&void 0!==t?t:"").toLocaleDateString("en-US"),n=new Date(null!==(l=e.dateCheckOut)&&void 0!==l?l:"").toLocaleDateString("en-US");return(0,i.jsx)("div",{className:"cursor-pointer hover:bg-slate-200",onClick:()=>A(e),children:"".concat(a," - ").concat(n)},null==e?void 0:e.created)})})})})},A=(0,r.v)(e=>({data:null,meta:null,loading:!1,error:null,selectedRoute:null,setRoutes:t=>e({data:t.data,meta:t.meta,error:null}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setSelectedRoute:t=>e({selectedRoute:t}),reset:()=>e({data:null,meta:null,loading:!1,error:null,selectedRoute:null})})),h=()=>{let{setNumberOfPeople:e,numberOfPeople:t}=(0,c.A)();return(0,i.jsxs)("div",{className:"flex items-center justify-end h-full w-full",children:[(0,i.jsx)("div",{className:"w-[180px] pl-[35px]",children:(0,i.jsx)("p",{className:"text-accent",children:"Số h\xe0nh kh\xe1ch"})}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"number",defaultValue:t,className:"w-16",onChange:t=>e(Number(t.target.value))})})]})};var m=l(8826);l(5279),l(5819);var v=l(6274);let p=()=>{let{setDateCheckIn:e,dateCheckIn:t,setDateCheckOut:l,dateCheckOut:a}=(0,c.A)(),{t:n}=(0,v.B)();return(0,i.jsxs)("div",{className:"flex items-center justify-end h-full w-full",children:[(0,i.jsx)("div",{className:"w-[200px] pl-[35px]",children:(0,i.jsx)("p",{className:"text-accent",children:n("booking.checkInOut")})}),(0,i.jsx)(m.Ay,{className:"w-full h-full min-w-52",selectsRange:!0,startDate:t,endDate:a,onChange:t=>{let[i,a]=t;e(i),l(a)},isClearable:!0})]})},g=()=>{let{getNumberOfDays:e,setResultSearchBooking:t,setOpenHistory:l,isOpenHistory:a}=(0,c.A)(),{setOpenDialog:n}=d(),{setRoutes:r,setLoading:m,setError:v,loading:g}=A(),x=async()=>{e&&e(),t({}),m(!0);try{let e=await s.get("".concat(o.ROUTES).concat("?populate[location][populate][hotels][populate][hotel_types][populate]=price_hotels&populate[location][populate][service_routes][fields]=id,documentId,service_code,service_desc,service_price,createdAt,updatedAt,publishedAt&populate[location][populate][cars][fields]=id,type_car,car_price,car_code&populate[location][populate][companies][populate][service_companies][fields]=service_code,service_price"));e.data&&r(e.data)}catch(e){console.error("Error fetching routes:",e),v("Failed to fetch routes")}finally{m(!1),n(!0)}};return(0,i.jsxs)("div",{className:"h-[260px] flex flex-col justify-center items-center ",children:[(0,i.jsx)("h1",{className:"text-4xl font-medium mb-9 text-accent",children:"ĐẶT PH\xd2NG NGAY"}),(0,i.jsx)("form",{className:"h-[300px] lg:h-[70px] w-full px-44",children:(0,i.jsxs)("div",{className:"flex flex-col w-full h-full lg:flex-row",children:[(0,i.jsx)("div",{className:"flex-1 bg-white border-r",children:(0,i.jsx)(p,{})}),(0,i.jsx)("div",{className:"flex-1 bg-white border-r",children:(0,i.jsx)(h,{})}),(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:x,disabled:g,children:g?"Checking...":"Check Now"}),(0,i.jsx)("button",{type:"button",className:"btn btn-primary border-l-[1px]",onClick:()=>{l(!a)},children:"Lịch sử đặt ph\xf2ng"})]})}),(0,i.jsx)(u,{})]})};var x=l(3628);let f={Slider1:{src:"/_next/static/media/1.186b34a3.jpg",height:3473,width:5210,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAAqxLf/8QAHhAAAgEDBQAAAAAAAAAAAAAAAQMCAAQFERMUQVH/2gAIAQEAAT8A5twzKtQGEbcBI9iWo8r/xAAZEQABBQAAAAAAAAAAAAAAAAABAAIDEyH/2gAIAQIBAT8AlJsdq//EABcRAAMBAAAAAAAAAAAAAAAAAAABAhL/2gAIAQMBAT8AhLEn/9k=",blurWidth:8,blurHeight:5},Slider2:{src:"/_next/static/media/2.4db33a00.jpg",height:3333,width:5e3,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACgX//EABwQAAEDBQAAAAAAAAAAAAAAAAMAARICBRFRYf/aAAgBAQABPwAtxM9LDgPENcX/xAAWEQADAAAAAAAAAAAAAAAAAAAAAjH/2gAIAQIBAT8Aan//xAAWEQADAAAAAAAAAAAAAAAAAAAAAjL/2gAIAQMBAT8AWT//2Q==",blurWidth:8,blurHeight:5},Slider3:{src:"/_next/static/media/3.f1492ef1.jpg",height:4e3,width:6e3,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACQGv8A/8QAHRAAAwAABwAAAAAAAAAAAAAAAQIDAAQREiIxUf/aAAgBAQABPwA51rxMdgVaIX7PHTzH/8QAFxEBAQEBAAAAAAAAAAAAAAAAAgEDAP/aAAgBAgEBPwDAlYmqd//EABgRAAMBAQAAAAAAAAAAAAAAAAECAwAR/9oACAEDAQE/ALMUoQp5v//Z",blurWidth:8,blurHeight:5}},b=[{id:1,title:"Your Luxury Hotel For Vacation",bg:f.Slider1,btnNext:"See our rooms"},{id:2,title:"Feel Relax & Enjoy Your Luxuriousness",bg:f.Slider2,btnNext:"See our rooms"},{id:3,title:"Your Luxury Hotel For Vacation",bg:f.Slider3,btnNext:"See our rooms"}];var y=l(4290),j=l(5565);l(6816),l(2252);let N=()=>(0,i.jsx)(x.RC,{modules:[y._R,y.Ij],effect:"fade",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},className:"heroSlider h-[500px] lg:h-[650px]",children:b.map(e=>{let{id:t,bg:l}=e;return(0,i.jsx)(x.qr,{className:"h-full relative flex justify-center items-center",children:(0,i.jsx)("div",{className:"absolute top-0 w-full h-full",children:(0,i.jsx)(j.default,{className:"object-cover h-full w-full",src:l,alt:"logo"})})},t)})});var w=l(4705);let C={BOOKING:"/booking"};var k=l(5332),D=l(8094),I=l(6046),Q=l(2115);let B=e=>{let{name:t,onAddRow:l,visible:a=!0}=e,{t:n}=(0,v.B)();return(0,i.jsxs)("div",{className:"flex justify-between items-center bg-accent",children:[(0,i.jsx)("h1",{className:"text-lg p-2",children:t}),a&&(0,i.jsx)("button",{className:"bg-accent text-white px-4 rounded-md h-[40px]",onClick:()=>l(),children:n("addRow")})]})},R=e=>{let{options:t,name:l,onChange:a,value:n,disabled:o}=e;return(0,i.jsx)("select",{className:"bg-white border w-full border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 px-4 py-2 text-gray-700 ".concat(o?"":"cursor-pointer"),name:l,id:l,onChange:e=>{e.stopPropagation(),a(t.find(t=>{var l;return(null==t?void 0:null===(l=t.id)||void 0===l?void 0:l.toString())===e.target.value}))},onClick:e=>{e.stopPropagation()},value:n,disabled:o,children:t.map((e,t)=>(0,i.jsx)("option",{value:e.id,children:e.name},t))})};var S=l(4382);let T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return e*t+l*i},E=e=>{let{setForm:t,type:l,dayIndex:i,initialData:a}=e;return{handleAddRow:()=>{t(e=>{let t=[...e[i][l]||[]];return t.push(a),{...e,[i]:{...e[i],[l]:t}}})},handleChange:(e,i,a,n)=>{t(t=>{let o=[...t[e][l]||[]];return o[i]={...o[i],[a]:n},{...t,[e]:{...t[e],[l]:o}}})},handleRemoveRow:e=>{t(t=>{let a=[...t[i][l]||[]];return a.splice(e,1),{...t,[i]:{...t[i],[l]:a}}})}}},P=[{name:"Vui l\xf2ng chọn",id:0},{name:"1 sao",id:1},{name:"2 sao",id:2},{name:"3 sao",id:3},{name:"4 sao",id:4},{name:"5 sao",id:5}],_={hotelType:{id:"",name:""},hotelName:{id:"",name:""},roomType:{id:"",name:"",price:0,price_hotels:[]},quantityRoom:0,additionalBeds:0,timeAvailable:"",price:0},F={additionalBeds:0,price:0,quantityRoom:0,timeAvailable:""},O=e=>{let{label:t,value:l,onChange:a,min:n=0,max:o,disabled:s=!1,placeholder:r="0",id:d,className:c=""}=e;return(0,i.jsxs)("div",{className:"flex flex-col gap-2 ".concat(c),children:[(0,i.jsx)("label",{htmlFor:d,className:"font-medium",children:t}),(0,i.jsxs)("div",{className:"relative flex items-center",children:[(0,i.jsx)("button",{type:"button",className:"bg-gray-200 border border-gray-300 text-gray-900 rounded-l-lg p-2.5 hover:bg-gray-300 disabled:opacity-50",onClick:()=>{a(Math.max((l||0)-1,n).toString())},disabled:s||l<=n,children:"-"}),(0,i.jsx)("input",{type:"number",id:d,className:"bg-white border-t border-b border-gray-300 text-gray-900 text-sm w-full text-center focus:ring-accent focus:border-accent p-2.5 dark:focus:ring-accent dark:focus:border-accent",required:!0,value:l||"",min:n,max:o,onChange:e=>a(e.target.value),placeholder:r,disabled:s}),(0,i.jsx)("button",{type:"button",className:"bg-gray-200 border border-gray-300 text-gray-900 rounded-r-lg p-2.5 hover:bg-gray-300 disabled:opacity-50",onClick:()=>{void 0!==o&&l>=o||a(((l||0)+1).toString())},disabled:s||void 0!==o&&l>=o,children:"+"})]})]})},U=e=>{var t,l;let{dayIndex:a,setForm:n,formSearchResult:o}=e,{data:s}=A(),[r,d]=(0,Q.useState)({}),[u,h]=(0,Q.useState)({}),{}=(0,c.A)(),{handleAddRow:m,handleChange:v,handleRemoveRow:p}=E({dayIndex:a,setForm:n,type:"hotels",initialData:_}),g=(e,t,l)=>{var i,n;let o=Number(null!==(n=null===(i=e.price_hotels[0])||void 0===i?void 0:i.price)&&void 0!==n?n:0),s=null==t?void 0:t.quantityRoom,r=null==t?void 0:t.additionalBeds;v(a,l,"roomType",e),v(a,l,"price",T(o,s,r))},x=(e,t,l)=>{var i,n,o,s;v(a,l,"quantityRoom",Number(e)),(null==t?void 0:null===(n=t.roomType)||void 0===n?void 0:null===(i=n.price_hotels[0])||void 0===i?void 0:i.price)&&v(a,l,"price",T(null==t?void 0:null===(s=t.roomType)||void 0===s?void 0:null===(o=s.price_hotels[0])||void 0===o?void 0:o.price,Number(null!=e?e:0),null==t?void 0:t.additionalBeds))},f=(e,t,l)=>{var i,n,o;let s=T(null==t?void 0:null===(n=t.roomType)||void 0===n?void 0:null===(i=n.price_hotels[0])||void 0===i?void 0:i.price,null==t?void 0:t.quantityRoom,null==t?void 0:null===(o=t.hotelName)||void 0===o?void 0:o.extra_price,Number(null!=e?e:0));v(a,l,"additionalBeds",Number(null!=e?e:0)),v(a,l,"price",s)},b=async(e,t)=>{var l,i;let r=null==s?void 0:s.find(e=>e.id===Number(o[a].city.id)),c=(null!==(i=null==r?void 0:null===(l=r.location)||void 0===l?void 0:l.hotels)&&void 0!==i?i:[]).filter(t=>t.rank===e.id);d(e=>({...e,[t]:c})),await v(a,t,"hotelType",e),await n(e=>{var l;let i=[...null!==(l=e[a].hotels)&&void 0!==l?l:[]];return i[t]={...i[t],...F,hotelName:{id:"",name:""},roomType:{id:"",name:"",price:0,price_hotels:[]}},{...e,[a]:{...e[a],hotels:i}}})},y=o[a].hotels&&(null===(t=o[a].hotels)||void 0===t?void 0:t.length)>1;return(0,Q.useEffect)(()=>{d({})},[o[a].city.id]),(0,i.jsxs)("div",{children:[(0,i.jsx)(B,{name:"Hotel",onAddRow:m}),(0,i.jsx)("div",{className:"flex flex-col justify-between w-full px-2 border-b-2 indexs-center items-center",children:null===(l=o[a].hotels)||void 0===l?void 0:l.map((e,t)=>{var l,s,d,c,A,m,j;let N=null===(l=o[a].hotels)||void 0===l?void 0:l[t];if(!N)return null;let w=new Date(null!==(A=null==N?void 0:null===(s=N.hotelName)||void 0===s?void 0:s.expire_date)&&void 0!==A?A:"01/01/2024").toLocaleDateString("en-US");return(0,i.jsxs)("div",{className:"flex w-full gap-4 my-3",children:[(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center gap-2 md:w-3/12",children:[(0,i.jsx)("p",{children:"Loại kh\xe1ch sạn"}),(0,i.jsx)(R,{options:P,name:"hotel-type-".concat(a,"-").concat(t),value:(null==N?void 0:N.hotelType.id)||"",onChange:e=>b(e,t)})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 md:w-3/12",children:[(0,i.jsx)("p",{children:"Kh\xe1ch sạn"}),(0,i.jsx)(R,{options:[{id:0,name:"Vui l\xf2ng chọn",hotel_types:[]},...(null!==(m=r[t])&&void 0!==m?m:[]).map(e=>({...e,id:e.id,name:e.hotel_name}))],name:"hotel-".concat(a,"-").concat(t),value:(null==N?void 0:N.hotelName.id)||"",onChange:async e=>{h(l=>({...l,[t]:e.hotel_types||[]})),await v(a,t,"hotelName",e),await n(e=>{var l;let i=[...null!==(l=e[a].hotels)&&void 0!==l?l:[]];return i[t]={...i[t],...F,roomType:{id:"",name:"",price:0,price_hotels:[]}},{...e,[a]:{...e[a],hotels:i}}})}})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 md:w-3/12",children:[(0,i.jsx)("p",{children:"Loại ph\xf2ng"}),(0,i.jsx)(R,{options:[{id:0,name:"Vui l\xf2ng chọn",price_hotels:[]},...null!==(j=u[t])&&void 0!==j?j:[]],name:"room-type-".concat(a,"-").concat(t),value:(null==N?void 0:N.roomType.id)||"",onChange:async e=>{await g(e,N,t),await n(e=>{var l;let i=[...null!==(l=e[a].hotels)&&void 0!==l?l:[]];return i[t]={...i[t],...F},{...e,[a]:{...e[a],hotels:i}}})}})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 md:w-3/12",children:[(0,i.jsx)("p",{children:"Ng\xe0y hiệu lực"}),(0,i.jsx)("p",{className:"text-lg",children:w})]}),(0,i.jsx)(O,{label:"Số lượng ph\xf2ng",value:null==N?void 0:N.quantityRoom,onChange:e=>x(e,N,t),min:1,disabled:!(null==e?void 0:null===(d=e.roomType)||void 0===d?void 0:d.createdAt),id:"quantityRoom-".concat(t),className:"md:w-3/12"}),(0,i.jsx)(O,{label:"Số giường th\xeam",value:(null==N?void 0:N.additionalBeds)||0,onChange:e=>f(e,N,t),min:0,disabled:!(null==e?void 0:null===(c=e.roomType)||void 0===c?void 0:c.createdAt),id:"additionalBeds-".concat(t),className:"md:w-3/12"}),(0,i.jsx)(S.g,{value:(null==N?void 0:N.price)||0,className:"pr-2 md:w-3/12",size:"lg"}),y&&(0,i.jsx)("button",{onClick:()=>p(t),children:"Remove"})]},t)})})]})};var G=l(1144),M=l(3379),L=l(1563);let H={transportationType:{id:"",name:"",price:0},transportationMode:{id:"",name:"",price:0},quantity:0,price:0},q=[{name:"1 chiều",id:"1",price:1e5},{name:"2 chiều",id:"2",price:2e5}],z=e=>{var t,l,a,n;let{dayIndex:o,setForm:s,formSearchResult:r}=e,[d,c]=(0,Q.useState)(q[0]),{data:u}=A(),h=(0,Q.useMemo)(()=>{var e,t,l;return null!==(l=null==u?void 0:null===(t=u.find(e=>e.id===Number(r[o].city.id)))||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.cars)&&void 0!==l?l:[]},[u,o,r]),{handleChange:m,handleAddRow:v,handleRemoveRow:p}=E({dayIndex:o,setForm:s,type:"transportation",initialData:H}),g=e=>{p(e)},x=(null===(t=r[o])||void 0===t?void 0:t.transportation)&&(null===(a=r[o])||void 0===a?void 0:null===(l=a.transportation)||void 0===l?void 0:l.length)<1,f=(e,t)=>e+t,b=(e,t)=>{m(o,t,"transportationType",e),m(o,t,"price",f(e.price,d.price))},y=(e,t,l)=>{c(e),m(o,t,"transportationMode",e),m(o,t,"price",f(l,e.price))};return(0,i.jsxs)("div",{children:[(0,i.jsx)(B,{name:"Transportation",onAddRow:v,visible:x}),(0,i.jsx)("div",{className:"w-full border-b-2 flex flex-col justify-between indexs-center px-2",children:null===(n=r[o].transportation)||void 0===n?void 0:n.map((e,t)=>{var l;let a=null===(l=r[o].transportation)||void 0===l?void 0:l[t];return(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex mb- gap-4 my-3 items-stretch",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,i.jsx)("p",{children:"Loại phương tiện"}),(0,i.jsx)(R,{options:[{id:"",name:"Vui l\xf2ng chọn",price:0},...null==h?void 0:h.map(e=>({id:e.id.toString(),name:e.type_car,price:e.car_price}))],name:"transportation-type-".concat(o,"-").concat(t),value:(null==a?void 0:a.transportationType.id)||"",onChange:e=>{b(e,t)}})]}),(0,i.jsx)("div",{className:"flex flex-col gap-2 items-center justify-center mt-3",children:(0,i.jsx)(G.z6,{value:d,onChange:e=>y(e,t,(null==a?void 0:a.transportationType.price)||0),"aria-label":"Server size",className:"flex gap-2 items-center justify-center",children:q.map(e=>(0,i.jsxs)(M.D,{className:"flex items-center gap-2",children:[(0,i.jsx)(G.sx,{value:e,className:"group flex size-5 items-center justify-center rounded-full border bg-white data-[checked]:bg-blue-400",disabled:!(h.length>0),children:(0,i.jsx)("span",{className:"invisible size-2 rounded-full bg-white group-data-[checked]:visible"})}),(0,i.jsx)(L.JU,{children:e.name})]},e.id))})})]}),(0,i.jsx)(S.g,{value:(null==a?void 0:a.price)||0,className:"md:w-3/12 pr-2",size:"lg"}),(0,i.jsx)("button",{className:"hover:text-red-600",onClick:()=>g(t),children:"Remove"})]},t)})})]})},Y=e=>{var t;let{dayIndex:l,setForm:a,formSearchResult:n}=e,{data:o}=A(),s=(0,Q.useMemo)(()=>{var e,t,i,a,s,r,d;return[...null!==(r=null==o?void 0:null===(i=o.find(e=>e.id===Number(n[l].city.id)))||void 0===i?void 0:null===(t=i.location)||void 0===t?void 0:null===(e=t.companies)||void 0===e?void 0:e.map(e=>null==e?void 0:e.service_companies).flat())&&void 0!==r?r:[],...null!==(d=null==o?void 0:null===(s=o.find(e=>e.id===Number(n[l].city.id)))||void 0===s?void 0:null===(a=s.location)||void 0===a?void 0:a.service_routes)&&void 0!==d?d:[]]},[o,l,n]),{handleChange:r,handleAddRow:d,handleRemoveRow:c}=E({dayIndex:l,setForm:a,type:"services",initialData:{serviceType:{id:"",name:"",price:0},serviceQuantity:1,price:0}}),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e?e*t:0},h=(e,t,i)=>{let a=u(e.price,i);r(l,t,"serviceType",e),r(l,t,"price",a)},m=(e,t)=>{var i,a;let o=u(null===(a=n[l].services)||void 0===a?void 0:null===(i=a[t])||void 0===i?void 0:i.serviceType.price,Number(e.target.value));r(l,t,"serviceQuantity",e.target.value),r(l,t,"price",o)};return(0,i.jsxs)("div",{children:[(0,i.jsx)(B,{name:"Services",onAddRow:d}),(0,i.jsx)("div",{className:" w-full border-b-2 flex flex-col justify-between px-2 indexs-center",children:null===(t=n[l].services)||void 0===t?void 0:t.map((e,t)=>{var a,o,r,d,u,A,v,p,g;return(0,i.jsxs)("div",{className:"flex gap-4 ".concat(0===t?"py-3":"pb-3"," justify-between"),children:[(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,i.jsx)("p",{children:"Loại dịch vụ"}),(0,i.jsx)(R,{options:[{id:0,name:"Vui l\xf2ng chọn",price:0},...null==s?void 0:s.map(e=>({id:e.id,name:e.service_code,price:e.service_price}))],name:"service-type-".concat(l,"-").concat(t),value:(null===(o=n[l].services)||void 0===o?void 0:null===(a=o[t])||void 0===a?void 0:a.serviceType.id)||"",onChange:e=>{var i,a,o;return h(e,t,null!==(o=null===(a=n[l].services)||void 0===a?void 0:null===(i=a[t])||void 0===i?void 0:i.serviceQuantity)&&void 0!==o?o:1)}})]}),(0,i.jsx)(O,{label:"Số lượng",value:null!==(g=null===(d=n[l].services)||void 0===d?void 0:null===(r=d[t])||void 0===r?void 0:r.serviceQuantity)&&void 0!==g?g:1,onChange:e=>m(e,t),min:1,disabled:!(null===(A=n[l].services)||void 0===A?void 0:null===(u=A[t])||void 0===u?void 0:u.serviceType),id:"quantityRoom-".concat(t),className:"md:w-3/12"})]}),(0,i.jsx)("div",{className:"flex flex-col gap-2 items-center justify-center",children:(0,i.jsx)(S.g,{value:(null===(p=n[l].services)||void 0===p?void 0:null===(v=p[t])||void 0===v?void 0:v.price)||0,className:"md:w-3/12 pr-2",size:"lg"})}),(0,i.jsx)("button",{className:"hover:text-red-600",onClick:()=>c(t),children:"Remove"})]},t)})})]})},K=e=>{var t;let{dayIndex:l,setForm:a,formSearchResult:n}=e,{handleChange:o,handleAddRow:s,handleRemoveRow:r}=E({dayIndex:l,setForm:a,type:"additionalCosts",initialData:{additionalCostType:{id:"",name:""},quantity:0,price:0}});return(0,i.jsxs)("div",{children:[(0,i.jsx)(B,{name:"Additional Costs",onAddRow:s}),(0,i.jsx)("div",{className:" w-full border-b-2 flex flex-col justify-between px-2 indexs-center",children:null===(t=n[l].additionalCosts)||void 0===t?void 0:t.map((e,t)=>(0,i.jsxs)("div",{className:"flex gap-4 justify-between ".concat(0===t?"py-3":"pb-3"),children:[(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,i.jsx)("p",{children:"T\xean y\xeau cầu"}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-accent focus:border-accent block w-full p-2.5 dark:focus:ring-accent dark:focus:border-accent",required:!0,onChange:e=>o(l,t,"additionalCostType",{id:t.toString(),name:e.target.value})})})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,i.jsx)("p",{children:"Gi\xe1 tiền"}),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"number",className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-accent focus:border-accent block w-full p-2.5 dark:focus:ring-accent dark:focus:border-accent",required:!0,onChange:e=>o(l,t,"price",Number(e.target.value))})})]})]}),(0,i.jsx)("div",{className:"flex flex-col gap-2 md:w-3/12 pr-2",children:(0,i.jsx)(S.g,{value:(null==e?void 0:e.price)||0,label:"Gi\xe1",size:"lg"})}),(0,i.jsx)("button",{className:"hover:text-red-600",onClick:()=>r(t),children:"Remove"})]},t))})]})},V=e=>{let t={};for(let l=0;l<e;l++)t["day".concat(l+1)]={city:{id:"",name:""},hotels:[_],transportation:[],services:[],additionalCosts:[]};return t},X=(0,Q.memo)(()=>{var e;let t=(0,I.useRouter)(),{numberOfDays:l,setResultSearchBooking:a,dateCheckIn:n,dateCheckOut:o,numberOfPeople:s,resultSearchBooking:r}=(0,c.A)(),{dialogStatus:u,setOpenDialog:h}=d(),[m,v]=(0,Q.useState)({}),{data:p}=A(),g=null===(e=localStorage)||void 0===e?void 0:e.getItem("bookingHistory"),x=(e,t)=>{v(l=>({...l,[t]:{hotels:[_],transportation:[],services:[],additionalCosts:[],city:e}}))},f=()=>p?p.map(e=>({id:e.id.toString(),name:e.name})):[];return(0,Q.useEffect)(()=>{v(V(l)),r.day1&&v(r)},[l,r]),(0,i.jsx)("div",{className:"flex flex-col items-center justify-center w-full m-2",children:(0,i.jsxs)(k.lG,{open:u,as:"div",className:"relative z-50 focus:outline-none",onClose:function(){h(!1)},children:[(0,i.jsx)("div",{className:"fixed inset-0 bg-black/70","aria-hidden":"true"}),(0,i.jsx)("div",{className:"fixed inset-0 z-50 w-screen overflow-y-auto",children:(0,i.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 overflow-y-auto",children:(0,i.jsx)(k.Lj,{transition:!0,className:"w-full max-w-4xl max-h-[700px] overflow-y-auto rounded-xl bg-white backdrop-blur-2xl duration-300 ease-out data-[closed]:transform-[scale(95%)] data-[closed]:opacity-0",children:(0,i.jsxs)("div",{className:"flex flex-col items-center w-full px-4 ",children:[(0,i.jsx)("div",{className:"w-full max-w-4xl mx-auto divide-y divide-black/5 rounded-xl",children:Array.from({length:l},(e,t)=>{var l;let a="day".concat(t+1);return(0,i.jsxs)(D.EN,{as:"div",className:"p-2",children:[(0,i.jsxs)(D._q,{className:"flex items-center justify-between w-full group",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-sm/6 font-medium text-black group-data-[hover]:text-black/80",children:(0,i.jsxs)("h1",{className:"text-2xl font-bold w-[100px]",children:["NG\xc0Y ",t+1]})}),(0,i.jsx)(R,{options:[{id:"",name:"Vui l\xf2ng chọn"},...f()],name:"city-".concat(a),value:(null===(l=m[a])||void 0===l?void 0:l.city.id)||"",onChange:e=>x(e,a)})]}),(0,i.jsx)(w.y,{})]}),(0,i.jsxs)(D.kS,{className:"mt-2 text-sm/5 text-black/50",children:[(0,i.jsx)(U,{dayIndex:a,setForm:v,formSearchResult:m}),(0,i.jsx)(z,{dayIndex:a,setForm:v,formSearchResult:m}),(0,i.jsx)(Y,{dayIndex:a,setForm:v,formSearchResult:m}),(0,i.jsx)(K,{dayIndex:a,setForm:v,formSearchResult:m})]})]},t)})}),(0,i.jsx)("hr",{className:"w-full my-2"}),(0,i.jsx)("button",{className:"bg-accent text-white px-4 rounded-md h-[40px] mb-2",onClick:e=>{var i,r;e.preventDefault();let d={days:m,created:new Date,numberOfDays:l,dateCheckIn:n,dateCheckOut:o,numberOfPeople:s};if(a(m),g){let e=[d,...JSON.parse(g)];null===(r=localStorage)||void 0===r||r.setItem("bookingHistory",JSON.stringify(e))}else null===(i=localStorage)||void 0===i||i.setItem("bookingHistory",JSON.stringify([d]));h(!1),t.push(C.BOOKING)},children:"Đặt ph\xf2ng"})]})})})})]})})});X.displayName="ResultSearchBooking";let W=function(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(N,{}),(0,i.jsx)("div",{className:"bg-gray-700/60 p-4 lg:absolute lg:left-0 lg:right-0 lg:p-0 bottom-0 lg:z-30 lg:shadow-xl",children:(0,i.jsx)(g,{})})]}),(0,i.jsx)(X,{})]})}},4705:(e,t,l)=>{"use strict";l.d(t,{y:()=>a});var i=l(5155);let a=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1024 1024",children:(0,i.jsx)("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672L192.128 340.864a30.59 30.59 0 0 0-42.752 0a29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728a30.59 30.59 0 0 0-42.752 0z"})})},4382:(e,t,l)=>{"use strict";l.d(t,{g:()=>n});var i=l(5155);let a=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),n=e=>{let{value:t,className:l="",label:n="Gi\xe1",size:o="md",showLabel:s=!0,align:r="right"}=e;return(0,i.jsxs)("div",{className:"flex flex-col gap-1 ".concat({left:"text-left",right:"text-right",center:"text-center"}[r]," ").concat(l),children:[s&&(0,i.jsx)("p",{className:"text-gray-600",children:n}),(0,i.jsx)("p",{className:"font-bold ".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[o]),children:a(t||0)})]})}},6274:(e,t,l)=>{"use strict";l.d(t,{B:()=>a});let i={vi:{"nav.home":"Trang chủ","nav.rooms":"Ph\xf2ng","nav.restaurant":"Nh\xe0 h\xe0ng","nav.spa":"Spa","nav.contact":"Li\xean hệ","booking.title":"ĐẶT PH\xd2NG NGAY","booking.checkNow":"Kiểm tra ngay","booking.numberOfGuests":"Số h\xe0nh kh\xe1ch","booking.checkInOut":"Ng\xe0y đến v\xe0 đi","hotel.pleaseSelect":"Vui l\xf2ng chọn","hotel.5star":"5 sao","hotel.4star":"4 sao","hotel.3star":"3 sao","room.pleaseSelect":"Vui l\xf2ng chọn","room.single":"Ph\xf2ng đơn","room.double":"Ph\xf2ng đ\xf4i","room.triple":"Ph\xf2ng ba","numberOfRooms.pleaseSelect":"Vui l\xf2ng chọn","numberOfRooms.one":"1 ph\xf2ng","numberOfRooms.two":"2 ph\xf2ng","numberOfRooms.three":"3 ph\xf2ng","additionalBeds.pleaseSelect":"Vui l\xf2ng chọn","additionalBeds.one":"1 giường","additionalBeds.two":"2 giường","additionalBeds.three":"3 giường","transportation.title":"Phương tiện di chuyển","transportation.name":"T\xean phương tiện","transportation.type":"Loại phương tiện","transportation.price":"Gi\xe1 tiền","transportation.oneWay":"1 chiều","transportation.roundTrip":"2 chiều","services.title":"Dịch vụ","services.name":"T\xean dịch vụ","services.quantity":"Số lượng","services.price":"Gi\xe1 tiền","additionalCosts.title":"Chi ph\xed ph\xe1t sinh","additionalCosts.name":"T\xean y\xeau cầu","additionalCosts.price":"Gi\xe1 tiền","booking.details":"Chi tiết đặt ph\xf2ng","booking.day":"NG\xc0Y","booking.hotel":"Kh\xe1ch sạn","booking.hotelName":"T\xean kh\xe1ch sạn","booking.roomQuantity":"Số lượng ph\xf2ng","booking.roomType":"Loại ph\xf2ng","booking.timeAvailable":"Thời gian khả dụng","booking.additionalBeds":"Giường bổ sung","booking.price":"Gi\xe1 tiền","summary.title":"Tổng kết chi ph\xed","summary.hotel":"Kh\xe1ch sạn","summary.transportation":"Phương tiện","summary.service":"Dịch vụ","summary.additional":"Chi ph\xed ph\xe1t sinh","summary.total":"Tổng cộng","summary.paymentNotice1":"• Thanh to\xe1n đầy đủ sẽ được t\xednh khi nhận ph\xf2ng","summary.paymentNotice2":"• Gi\xe1 c\xf3 thể thay đổi m\xe0 kh\xf4ng cần th\xf4ng b\xe1o trước","summary.paymentNotice3":"• Tất cả chi ph\xed t\xednh bằng VND","button.addRow":"Th\xeam d\xf2ng","button.remove":"X\xf3a","button.book":"Đặt ph\xf2ng","footer.copyright":"Bản quyền \xa9 {year}, Đ\xe3 đăng k\xfd Bản quyền"}},a=()=>({t:(e,t)=>{var l;let a=(null===(l=i.vi)||void 0===l?void 0:l[e])||e;return t&&"string"==typeof a?Object.entries(t).reduce((e,t)=>{let[l,i]=t;return e.replace(RegExp("{".concat(l,"}"),"g"),String(i))},a):a},locale:"vi",locales:["en","vi"]})},3513:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let i=(e,t)=>e&&t?Math.floor(Math.abs(t.getTime()-e.getTime())/864e5)+1:0,a=(0,l(9827).v)(e=>({isOpenHistory:!1,loading:!1,numberOfDays:0,numberOfPeople:1,dateCheckIn:new Date,dateCheckOut:new Date,resultSearchBooking:{},setResultSearchBooking:t=>e(()=>({resultSearchBooking:t})),getNumberOfDays:()=>e(e=>({numberOfDays:i(e.dateCheckIn,e.dateCheckOut)})),searchRoom:()=>e(e=>({numberOfPeople:e.numberOfPeople-1})),setDateCheckIn:t=>e(()=>({dateCheckIn:t})),setDateCheckOut:t=>e(()=>({dateCheckOut:t})),setNumberOfPeople:t=>e(()=>({numberOfPeople:t})),setLoading:t=>e(()=>({loading:t})),reset:()=>e({numberOfPeople:0}),setNumberOfdays:t=>e(()=>({numberOfDays:t})),setOpenHistory:t=>e(()=>({isOpenHistory:t}))}))},5819:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[515,545,579,253,464,441,517,358],()=>t(9882)),_N_E=e.O()}]);